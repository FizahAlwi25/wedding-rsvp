<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wedding Gift Registry</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  background: linear-gradient(135deg, #f8fff8 0%, #f0f8f0 100%);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #2d5a2d;
  min-height: 100vh;
}

/* Header with back button */
.header {
  background: white;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(45, 90, 45, 0.08);
  position: sticky;
  top: 0;
  z-index: 100;
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.back-btn {
  display: inline-flex;
  align-items: center;
  padding: 10px 20px;
  background: #f0f8f0;
  color: #3a7d34;
  text-decoration: none;
  border-radius: 10px;
  font-weight: 500;
  transition: all 0.3s ease;
}

.back-btn:hover {
  background: #e0f0e0;
  transform: translateX(-5px);
}

.back-btn i {
  margin-right: 8px;
}

.header h1 {
  font-size: 2rem;
  color: #2d5a2d;
  text-align: center;
  flex-grow: 1;
}

.subtitle {
  text-align: center;
  color: #5a7d5a;
  margin-top: 5px;
  font-style: italic;
}

/* Gift Grid */
.gift-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 30px 20px;
}

.gift-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
  margin-top: 20px;
}

/* Gift Card */
.gift-card {
  background: white;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(45, 90, 45, 0.1);
  transition: all 0.3s ease;
  opacity: 0;
  transform: translateY(20px);
  animation: cardEntrance 0.6s ease forwards;
}

@keyframes cardEntrance {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.gift-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 35px rgba(45, 90, 45, 0.15);
}

.gift-image {
  height: 200px;
  width: 100%;
  object-fit: cover;
  background: linear-gradient(45deg, #f0f8f0, #e0f0e0);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #a8c9a8;
  font-size: 48px;
}

.gift-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.gift-info {
  padding: 25px;
}

.gift-title {
  font-size: 1.3rem;
  color: #2d5a2d;
  margin-bottom: 10px;
  font-weight: 600;
}

.gift-description {
  color: #5a7d5a;
  font-size: 14px;
  line-height: 1.5;
  margin-bottom: 15px;
}

.gift-status {
  display: inline-block;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  margin-bottom: 15px;
}

.status-available {
  background-color: #e8f5e8;
  color: #3a7d34;
}

.status-taken {
  background-color: #ffeaea;
  color: #c85c5c;
}

.gift-price {
  font-size: 1.1rem;
  font-weight: 600;
  color: #3a7d34;
  margin-bottom: 15px;
}

.gift-actions {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.select-btn {
  flex: 1;
  padding: 10px;
  background: #3a7d34;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.3s ease;
}

.select-btn:hover:not(:disabled) {
  background: #2d5a2d;
  transform: translateY(-2px);
}

.select-btn:disabled {
  background: #e0e0e0;
  color: #a0a0a0;
  cursor: not-allowed;
}

.view-btn {
  padding: 10px 15px;
  background: #f0f8f0;
  color: #3a7d34;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.view-btn:hover {
  background: #e0f0e0;
}

/* Filter Bar */
.filter-bar {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(45, 90, 45, 0.05);
  margin-bottom: 30px;
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  align-items: center;
}

.filter-btn {
  padding: 8px 16px;
  background: #f0f8f0;
  border: none;
  border-radius: 20px;
  color: #5a7d5a;
  cursor: pointer;
  transition: all 0.3s ease;
}

.filter-btn.active {
  background: #3a7d34;
  color: white;
}

.filter-btn:hover {
  background: #e0f0e0;
}

.search-box {
  flex: 1;
  min-width: 200px;
  padding: 10px 15px;
  border: 1.5px solid #d0e6d0;
  border-radius: 8px;
  font-family: inherit;
  font-size: 14px;
  background-color: #fafffa;
  color: #2d5a2d;
}

.search-box:focus {
  outline: none;
  border-color: #5cb85c;
  box-shadow: 0 0 0 3px rgba(92, 184, 92, 0.2);
}

/* Stats */
.gift-stats {
  display: flex;
  justify-content: space-between;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(45, 90, 45, 0.05);
  margin-bottom: 20px;
}

.stat-item {
  text-align: center;
  flex: 1;
}

.stat-number {
  font-size: 2rem;
  font-weight: 700;
  color: #3a7d34;
}

.stat-label {
  font-size: 14px;
  color: #5a7d5a;
  margin-top: 5px;
}

/* Loading animation */
.loading {
  text-align: center;
  padding: 40px;
  color: #5a7d5a;
}

.loading-spinner {
  border: 3px solid #f0f8f0;
  border-top: 3px solid #3a7d34;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Empty state */
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #5a7d5a;
}

.empty-state i {
  font-size: 48px;
  margin-bottom: 20px;
  color: #d0e6d0;
}

/* Responsive */
@media (max-width: 768px) {
  .gift-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
  }
  
  .header-content {
    flex-direction: column;
    gap: 15px;
  }
  
  .back-btn {
    align-self: flex-start;
  }
  
  .gift-stats {
    flex-direction: column;
    gap: 20px;
  }
}

@media (max-width: 480px) {
  .gift-grid {
    grid-template-columns: 1fr;
  }
  
  .filter-bar {
    flex-direction: column;
    align-items: stretch;
  }
}
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="header-content">
    <a href="index.html" class="back-btn">
      <i class="fas fa-arrow-left"></i> Back to RSVP
    </a>
    <div>
      <h1>Wedding Gift Registry</h1>
      <p class="subtitle">Help us start our new life together ðŸ’š</p>
    </div>
    <div style="width: 100px;"></div> <!-- Spacer for alignment -->
  </div>
</div>

<!-- Stats -->
<div class="gift-container">
  <div class="gift-stats">
    <div class="stat-item">
      <div class="stat-number" id="totalGifts">12</div>
      <div class="stat-label">Total Gifts</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="availableGifts">8</div>
      <div class="stat-label">Available</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="reservedGifts">4</div>
      <div class="stat-label">Reserved</div>
    </div>
  </div>

  <!-- Filter Bar -->
  <div class="filter-bar">
    <input type="text" class="search-box" id="searchBox" placeholder="Search gifts...">
    <button class="filter-btn active" data-filter="all">All Gifts</button>
    <button class="filter-btn" data-filter="available">Available</button>
    <button class="filter-btn" data-filter="taken">Reserved</button>
    <button class="filter-btn" data-filter="kitchen">Kitchen</button>
    <button class="filter-btn" data-filter="home">Home</button>
    <button class="filter-btn" data-filter="experience">Experiences</button>
  </div>

  <!-- Gift Grid -->
  <div class="gift-grid" id="giftGrid">
    <!-- Gifts will be loaded here -->
  </div>
</div>

<script>
// Sample gift data with images (replace with your actual data)
const gifts = [
  {
    id: 1,
    name: "Stand Mixer",
    description: "Professional kitchen mixer with multiple attachments for baking and cooking.",
    price: "$299",
    status: "available",
    category: "kitchen",
    image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 2,
    name: "Bamboo Dinner Set",
    description: "Eco-friendly bamboo dinnerware set for 6 persons. Dishwasher safe.",
    price: "$149",
    status: "taken",
    category: "home",
    image: "https://images.unsplash.com/photo-1583394838336-acd977736f90?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: "John & Jane"
  },
  {
    id: 3,
    name: "Wine Glasses Set",
    description: "Crystal wine glasses set of 6. Perfect for entertaining guests.",
    price: "$89",
    status: "available",
    category: "home",
    image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 4,
    name: "Espresso Machine",
    description: "Automatic espresso machine with milk frother for perfect coffee at home.",
    price: "$399",
    status: "taken",
    category: "kitchen",
    image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: "Sarah"
  },
  {
    id: 5,
    name: "Picnic Basket",
    description: "Complete picnic set for 2 with plates, glasses, and insulated compartments.",
    price: "$129",
    status: "available",
    category: "experience",
    image: "https://images.unsplash.com/photo-1504851149312-7a075b496cc7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 6,
    name: "Cookbook Collection",
    description: "Set of 5 best-selling cookbooks from world-renowned chefs.",
    price: "$99",
    status: "taken",
    category: "home",
    image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: "Mike"
  },
  {
    id: 7,
    name: "Ceramic Bakeware Set",
    description: "Oven-safe ceramic bakeware set including casserole dish and pie plate.",
    price: "$79",
    status: "available",
    category: "kitchen",
    image: "https://images.unsplash.com/photo-1556909172-5452a5f610b1?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 8,
    name: "Weekend Getaway",
    description: "Gift certificate for a romantic weekend getaway at a mountain cabin.",
    price: "$500",
    status: "available",
    category: "experience",
    image: "https://images.unsplash.com/photo-1513584684374-8bab748fbf90?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 9,
    name: "Bed Linens Set",
    description: "Luxury 1000 thread count Egyptian cotton bed linens.",
    price: "$199",
    status: "available",
    category: "home",
    image: "https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 10,
    name: "Air Fryer",
    description: "Digital air fryer with multiple cooking functions and easy clean basket.",
    price: "$129",
    status: "available",
    category: "kitchen",
    image: "https://images.unsplash.com/photo-1551698618-1dfe5d97d256?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  },
  {
    id: 11,
    name: "Wine Tasting Experience",
    description: "Private wine tasting for two at a local vineyard.",
    price: "$150",
    status: "taken",
    category: "experience",
    image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: "Alex & Taylor"
  },
  {
    id: 12,
    name: "Dutch Oven",
    description: "Enameled cast iron Dutch oven in classic red. Perfect for slow cooking.",
    price: "$249",
    status: "available",
    category: "kitchen",
    image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    reservedBy: null
  }
];

// DOM Elements
const giftGrid = document.getElementById('giftGrid');
const searchBox = document.getElementById('searchBox');
const filterBtns = document.querySelectorAll('.filter-btn');
const totalGifts = document.getElementById('totalGifts');
const availableGifts = document.getElementById('availableGifts');
const reservedGifts = document.getElementById('reservedGifts');

// Initialize
let filteredGifts = [...gifts];
let currentFilter = 'all';

// Update stats
function updateStats() {
  const total = gifts.length;
  const available = gifts.filter(g => g.status === 'available').length;
  const reserved = gifts.filter(g => g.status === 'taken').length;
  
  totalGifts.textContent = total;
  availableGifts.textContent = available;
  reservedGifts.textContent = reserved;
}

// Create gift card HTML
function createGiftCard(gift, index) {
  const delay = index * 0.1;
  return `
    <div class="gift-card" style="animation-delay: ${delay}s">
      <div class="gift-image">
        <img src="${gift.image}" alt="${gift.name}" onerror="this.src='data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"%23f0f8f0\"/><text x=\"50\" y=\"50\" font-family=\"Arial\" font-size=\"14\" fill=\"%23a8c9a8\" text-anchor=\"middle\" dy=\".3em\></text></svg>'">
      </div>
      <div class="gift-info">
        <h3 class="gift-title">${gift.name}</h3>
        <span class="gift-status ${gift.status === 'available' ? 'status-available' : 'status-taken'}">
          ${gift.status === 'available' ? 'Available' : `Reserved by ${gift.reservedBy}`}
        </span>
        <p class="gift-description">${gift.description}</p>
        <div class="gift-price">${gift.price}</div>
        <div class="gift-actions">
          <button class="select-btn" ${gift.status === 'taken' ? 'disabled' : ''} onclick="selectGift(${gift.id})">
            ${gift.status === 'available' ? 'Select Gift' : 'Already Reserved'}
          </button>
          <button class="view-btn" onclick="viewGiftDetails(${gift.id})">
            <i class="fas fa-eye"></i>
          </button>
        </div>
      </div>
    </div>
  `;
}

// Render gift grid
function renderGifts() {
  if (filteredGifts.length === 0) {
    giftGrid.innerHTML = `
      <div class="empty-state" style="grid-column: 1/-1;">
        <i class="fas fa-gift"></i>
        <h3>No gifts found</h3>
        <p>Try a different search or filter</p>
      </div>
    `;
    return;
  }
  
  giftGrid.innerHTML = filteredGifts.map((gift, index) => createGiftCard(gift, index)).join('');
}

// Filter gifts
function filterGifts() {
  const searchTerm = searchBox.value.toLowerCase();
  
  filteredGifts = gifts.filter(gift => {
    const matchesSearch = gift.name.toLowerCase().includes(searchTerm) || 
                         gift.description.toLowerCase().includes(searchTerm) ||
                         gift.category.toLowerCase().includes(searchTerm);
    
    const matchesFilter = currentFilter === 'all' || 
                         gift.status === currentFilter ||
                         gift.category === currentFilter;
    
    return matchesSearch && matchesFilter;
  });
  
  renderGifts();
}

// Select gift function
function selectGift(giftId) {
  const gift = gifts.find(g => g.id === giftId);
  if (gift && gift.status === 'available') {
    // In a real app, you would save this to your database
    // For demo purposes, we'll simulate selection
    const userName = prompt(`You've selected "${gift.name}". Please enter your name to reserve it:`);
    
    if (userName) {
      gift.status = 'taken';
      gift.reservedBy = userName;
      
      // Update stats
      updateStats();
      
      // Re-render gifts
      filterGifts();
      
      // Show confirmation
      alert(`Thank you, ${userName}! You've reserved the ${gift.name}.`);
      
      // In a real app, you would update the RSVP form's gift selection
      if (window.opener) {
        window.opener.updateGiftSelection(gift.name);
      }
    }
  }
}

// View gift details (could be expanded to a modal)
function viewGiftDetails(giftId) {
  const gift = gifts.find(g => g.id === giftId);
  if (gift) {
    alert(`${gift.name}\n\nPrice: ${gift.price}\n\n${gift.description}\n\nStatus: ${gift.status === 'available' ? 'Available' : `Reserved by ${gift.reservedBy}`}`);
  }
}

// Event Listeners
searchBox.addEventListener('input', filterGifts);

filterBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    filterBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentFilter = btn.dataset.filter;
    filterGifts();
  });
});

// Initialize
updateStats();
renderGifts();

// Add animation delay to cards
document.querySelectorAll('.gift-card').forEach((card, index) => {
  card.style.animationDelay = `${index * 0.1}s`;
});

// Function to be called from RSVP form
window.updateGiftSelection = function(giftName) {
  // This function would update the RSVP form's gift selection
  console.log(`Gift selected from gifts page: ${giftName}`);
};
</script>
</body>
</html>